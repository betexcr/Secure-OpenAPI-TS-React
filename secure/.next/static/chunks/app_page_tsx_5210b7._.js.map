{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/albertomunoz/Documents/Code/secureOPENAPI/fe/secure/app/page.tsx"],"sourcesContent":["\"use client\"\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function Home() {\n  const [token, setToken] = useState(\"\");\n  const [items, setItems] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    if (token) {\n      fetchItems();\n    }\n  }, [token]);\n\n  const login = async () => {\n    try {\n      const res = await axios.post(\"http://localhost:8000/token\", {\n        username: \"admin\",\n        password: \"password\",\n      }, {\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }\n      });\n      setToken(res.data.access_token);\n    } catch (error) {\n      console.error(\"Login failed:\", error.response ? error.response.data : error);\n    }\n  };\n\n  const fetchItems = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:8000/items/\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setItems(res.data);\n    } catch (error) {\n      console.error(\"Error fetching items:\", error.response ? error.response.data : error);\n    }\n  };\n\n  const createItem = async () => {\n    try {\n      await axios.post(\"http://localhost:8000/items/\", { name, description }, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      fetchItems();\n    } catch (error) {\n      console.error(\"Error creating item:\", error.response ? error.response.data : error);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-4\">\n      <h1 className=\"text-2xl font-bold\">FastAPI + Next.js Secure CRUD</h1>\n      <button onClick={login} className=\"bg-blue-500 text-white px-4 py-2 rounded\">\n        Login\n      </button>\n      <button onClick={fetchItems} className=\"ml-2 bg-green-500 text-white px-4 py-2 rounded\">\n        Fetch Items\n      </button>\n      <div className=\"mt-4\">\n        <input\n          className=\"border p-2 mr-2\"\n          placeholder=\"Item Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <input\n          className=\"border p-2 mr-2\"\n          placeholder=\"Description\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <button onClick={createItem} className=\"bg-purple-500 text-white px-4 py-2 rounded\">\n          Create Item\n        </button>\n      </div>\n      <ul className=\"mt-4\">\n        {items.map((item) => (\n          <li key={item.id} className=\"border p-2 mb-2\">\n            {item.name}: {item.description}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAFA;;;AAIe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,IAAI,OAAO;gBACT;YACF;QACF;yBAAG;QAAC;KAAM;IAEV,MAAM,QAAQ;QACZ,IAAI;YACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,+BAA+B;gBAC1D,UAAU;gBACV,UAAU;YACZ,GAAG;gBACD,SAAS;oBAAE,gBAAgB;gBAAoC;YACjE;YACA,SAAS,IAAI,IAAI,CAAC,YAAY;QAChC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,IAAI,GAAG;QACxE;IACF;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,gCAAgC;gBAC1D,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA,SAAS,IAAI,IAAI;QACnB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,IAAI,GAAG;QAChF;IACF;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,gCAAgC;gBAAE;gBAAM;YAAY,GAAG;gBACtE,SAAS;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;YAC9C;YACA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC,IAAI,GAAG;QAC/E;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAqB;;;;;;0BACnC,6LAAC;gBAAO,SAAS;gBAAO,WAAU;0BAA2C;;;;;;0BAG7E,6LAAC;gBAAO,SAAS;gBAAY,WAAU;0BAAiD;;;;;;0BAGxF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;kCAEzC,6LAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;kCAEhD,6LAAC;wBAAO,SAAS;wBAAY,WAAU;kCAA6C;;;;;;;;;;;;0BAItF,6LAAC;gBAAG,WAAU;0BACX,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC;wBAAiB,WAAU;;4BACzB,KAAK,IAAI;4BAAC;4BAAG,KAAK,WAAW;;uBADvB,KAAK,EAAE;;;;;;;;;;;;;;;;AAO1B;GAnFwB;KAAA"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}